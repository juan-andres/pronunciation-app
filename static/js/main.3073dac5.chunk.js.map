{"version":3,"sources":["reducers/recorderReducer.js","reducers/wordsReducer.js","reducers/index.js","store.js","components/WordForm.js","components/Word.js","components/WordsList.js","components/Recorder.js","App.js","index.js"],"names":["startRecorder","word","type","data","fetchWords","tries","successes","addWord","dispatch","fetch","concat","then","response","status","recordWordTry","recordWordSuccess","initialState","combineReducers","recorder","state","arguments","length","undefined","action","Object","objectSpread","recordingState","heardWord","words","toConsumableArray","slice","find","w","store","createStore","rootReducer","compose","applyMiddleware","thunk","WordForm","wordInput","onClick","_this","props","onChange","e","setState","defineProperty","target","name","value","react_default","a","createElement","className","this","React","Component","connect","Word","utterThis","SpeechSynthesisUtterance","synth","window","speechSynthesis","voice","getVoices","speak","onRecord","_this$props$recorder","stopRecorder","testing","wordClasses","classNames","animated","pulse","link","has-text-link","level-item","buttonClasses","infinite","slow","button","is-primary","is-link","heartBeat","WordsList","map","Word_Word","assign","key","Recorder","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","recognitionEngine","webkitSpeechRecognition","lang","interimResults","maxAlternatives","onerror","recordingWord","_props$recorder","grammar","join","speechRecognitionList","webkitSpeechGrammarList","addFromString","grammars","onresult","newHeardWord","results","transcript","toLowerCase","setHeardWord","onnomatch","start","abort","setTimeout","App","es","Recorder_Recorder","WordsList_WordsList","WordForm_WordForm","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.3073dac5.chunk.js","sourcesContent":["function startRecorder(word) {\n  return {\n    type: 'RECORDER_START',\n    data: word,\n  };\n}\n\nfunction stopRecorder() {\n  return {\n    type: 'RECORDER_STOP',\n  };\n}\n\nfunction setHeardWord(word) {\n  return {\n    type: 'SET_HEARD_WORD',\n    data: word,\n  }\n}\n\nfunction recorderReducer(state = {}, action) {\n  switch (action.type) {\n    case 'RECORDER_START':\n      return {\n        ...state,\n        recordingState: 'recording',\n        word: action.data,\n      };\n    case 'RECORDER_STOP':\n      return {\n        ...state,\n        recordingState: 'idle',\n        word: null,\n      };\n    case 'SET_HEARD_WORD':\n      return {\n        ...state,\n        heardWord: action.data,\n      };\n    default:\n      return state;\n  }\n}\n\nexport {\n  setHeardWord,\n  recorderReducer,\n  startRecorder,\n  stopRecorder,\n};\n","const fetchWords = () => {\n  return {\n    type: 'FETCH_WORDS',\n    data: [\n      {word: 'circuit', tries: 0, successes: 0},\n      {word: 'ephemeral', tries: 0, successes: 0},\n    ],\n  };\n};\n\nconst addWord = word => dispatch => {\n  fetch(`https://mydictionaryapi.appspot.com/?define=${word}`)\n  .then(response => {\n    if (response.status === 200) {\n      dispatch({\n        type: 'ADD_WORD',\n        data: {\n          word,\n          tries: 0,\n          successes: 0,\n        },\n      });\n    }\n  });\n}\n\nconst recordWordTry = word => {\n  return {\n    type: 'RECORD_WORD_TRY',\n    word,\n  };\n}\n\nconst recordWordSuccess = word => {\n  return {\n    type: 'RECORD_WORD_SUCCESS',\n    word,\n  };\n}\n\nconst initialState = {\n  data: [],\n};\n\nfunction wordsReducer(state = initialState, action) {\n  let data, word;\n  switch (action.type) {\n    case 'FETCH_WORDS':\n      return {\n        ...state,\n        data: action.data,\n      };\n    case 'ADD_WORD':\n      return {\n        ...state,\n        data: [...state.data, action.data],\n      }\n    case 'RECORD_WORD_TRY':\n      data = state.data.slice();\n      word = data.find(w => w.word === action.word);\n      word.tries += 1;\n      return {\n        ...state,\n        data,\n      };\n    case 'RECORD_WORD_SUCCESS':\n      data = state.data.slice();\n      word = data.find(w => w.word === action.word);\n      word.successes += 1;\n      return {\n        ...state,\n        data,\n      };\n    default:\n      return state;\n  }\n};\n\nexport {\n  wordsReducer,\n  fetchWords,\n  addWord,\n  recordWordTry,\n  recordWordSuccess,\n};\n","import {combineReducers} from 'redux';\n\nimport {recorderReducer} from './recorderReducer';\nimport {wordsReducer} from './wordsReducer';\n\nexport default combineReducers({\n  recorder: recorderReducer,\n  words: wordsReducer,\n});\n","import {createStore, applyMiddleware, compose} from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './reducers';\n\nconst store = createStore(\n  rootReducer,\n  {},\n  compose(\n    applyMiddleware(thunk),\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n  ),\n);\n\nexport {\n  store,\n};\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {addWord} from '../reducers/wordsReducer';\n\nimport './WordForm.css';\n\n\nclass WordForm extends React.Component {\n  state = {\n    'wordInput': '',\n  }\n  onClick = () => {\n    this.props.addWord(this.state.wordInput);\n  }\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"formWrapper\">\n        <div className=\"level-item field has-addons\">\n          <div className=\"control\">\n            <input\n              className=\"input is-large\"\n              type=\"text\"\n              name=\"wordInput\"\n              onChange={this.onChange}\n              value={this.state.wordInput}\n            />\n          </div>\n          <div className=\"control\">\n            <button className=\"button is-large\" onClick={this.onClick}>\n              add\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addWord: data => dispatch(addWord(data))\n  };\n}\n\nWordForm = connect(null, mapDispatchToProps)(WordForm);\n\nexport {\n  WordForm,\n};\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport classNames from 'classnames';\n\nimport {startRecorder, stopRecorder} from '../reducers/recorderReducer';\n\nimport './Word.css';\n\nclass Word extends React.Component {\n  onClick = () => {\n    var utterThis = new SpeechSynthesisUtterance(this.props.word);\n    var synth = window.speechSynthesis;\n    utterThis.voice = synth.getVoices()[0];\n    synth.speak(utterThis);\n  }\n\n  onRecord = () => {\n    const {recordingState, word} = this.props.recorder;\n    if (recordingState === 'recording' && word === this.props.word) {\n      this.props.stopRecorder();\n    } else {\n      this.props.startRecorder(this.props.word);\n    }\n  }\n\n  render() {\n    const testing = this.props.recorder.word === this.props.word;\n\n    const wordClasses = classNames({\n      'animated': true,\n      'pulse': true,\n      'link': true,\n      'has-text-link': true,\n      'level-item': true,\n    });\n\n    const buttonClasses = classNames({\n      'animated': true,\n      'infinite': true,\n      'slow': true,\n      'level-item': true,\n      'button': true,\n      'is-primary': testing,\n      'is-link': !testing,\n      'heartBeat': testing,\n    });\n\n    return (\n      <div className=\"wordWrapper is-mobile\">\n        <div className=\"level-left\">\n          <div className={wordClasses} onClick={this.onClick}>\n            {`${this.props.word} (${this.props.successes}/${this.props.tries})`}\n          </div>\n        </div>\n        <div className=\"level-right\">\n          <button className={buttonClasses} onClick={this.onRecord}>\n            {testing ? 'stop' : 'test me'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    words: state.words,\n    recorder: state.recorder,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    startRecorder: word => dispatch(startRecorder(word)),\n    stopRecorder: () => dispatch(stopRecorder()),\n  };\n}\n\nWord = connect(mapStateToProps, mapDispatchToProps)(Word);\n\nexport {\n  Word,\n};\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {fetchWords} from '../reducers/wordsReducer';\nimport {Word} from './Word';\n\n\nclass WordsList extends React.Component {\n  componentDidMount() {\n    this.props.fetchWords();\n  }\n\n  render() {\n    return (\n      <ul>\n        {this.props.words.data.map(w => (<Word key={w.word} {...w} />))}\n      </ul>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    words: state.words,\n    recorder: state.recorder,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    fetchWords: () => dispatch(fetchWords()),\n  };\n}\n\nWordsList = connect(mapStateToProps, mapDispatchToProps)(WordsList);\n\nexport {\n  WordsList,\n};\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {recordWordTry, recordWordSuccess} from '../reducers/wordsReducer';\nimport {startRecorder, stopRecorder, setHeardWord} from '../reducers/recorderReducer';\n\nimport './Recorder.css';\n\n\nclass Recorder extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const recognitionEngine = new window.webkitSpeechRecognition();\n    recognitionEngine.lang = 'en-US';\n    recognitionEngine.interimResults = false;\n    recognitionEngine.maxAlternatives = 1;\n\n    recognitionEngine.onerror = props.stopRecorder;\n\n    this.state = {\n      recordingWord: null,\n      recognitionEngine,\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const {recordingState, word, heardWord} = props.recorder;\n\n    if (state.recordingWord !== word && recordingState === 'recording') {\n      const words = props.words.data.map(w => w.word);\n      const grammar = `#JSGF V1.0; grammar words; public <word> = ${words.join(' | ')};`\n      const speechRecognitionList = new window.webkitSpeechGrammarList();\n      speechRecognitionList.addFromString(grammar, 1);\n      state.recognitionEngine.grammars = speechRecognitionList;\n\n      state.recognitionEngine.onresult = e => {\n        const newHeardWord = e.results[0][0].transcript.toLowerCase();\n\n        if (newHeardWord === word) {\n          props.recordWordSuccess(word);\n        }\n        props.recordWordTry(word);\n        props.setHeardWord(newHeardWord);\n        props.stopRecorder();\n      }\n\n      state.recognitionEngine.onnomatch = () => {\n        props.recordWordTry(word);\n        props.stopRecorder();\n      };\n\n      state.recognitionEngine.start();\n\n      return {\n        ...state,\n        recordingWord: word,\n      };\n    }\n\n    if (state.recordingWord && !heardWord && recordingState === 'idle') {\n      state.recognitionEngine.abort();\n      return {\n        ...state,\n        recordingWord: null,\n      }\n    }\n\n    if (recordingState === 'idle' && state.recognitionEngine.onresult) {\n      state.recognitionEngine.onresult = null;\n      state.recognitionEngine.onnomatch = null;\n      state.recognitionEngine.abort();\n      setTimeout(() => {\n        props.setHeardWord(null);\n      }, 2000);\n    }\n\n    return null;\n  }\n\n  render() {\n    const {heardWord} = this.props.recorder;\n    if (heardWord) {\n      if (heardWord === this.state.recordingWord) {\n        return (\n          <div className=\"has-background-success messageWrapper\">\n            Good job!\n          </div>\n        );\n      } else {\n        return (\n          <div className=\"has-background-warning messageWrapper\">\n            {`heard \"${heardWord}\"`}\n          </div>\n        );\n      }\n    }\n\n    return (\n      <div className=\"messageWrapper\">\n        {this.state.recordingWord ? `Listening for ${this.state.recordingWord}` : 'Click on the test me button on a word in the list'}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    recorder: state.recorder,\n    words: state.words,\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    recordWordTry: word => dispatch(recordWordTry(word)),\n    recordWordSuccess: word => dispatch(recordWordSuccess(word)),\n    startRecorder: word => dispatch(startRecorder(word)),\n    stopRecorder: () => dispatch(stopRecorder()),\n    setHeardWord: word => dispatch(setHeardWord(word)),\n  };\n}\n\nRecorder = connect(mapStateToProps, mapDispatchToProps)(Recorder);\n\nexport {\n  Recorder,\n};\n","import React from 'react';\nimport {Provider} from 'react-redux';\n\nimport {store} from './store';\nimport {WordForm} from './components/WordForm';\nimport {WordsList} from './components/WordsList';\nimport {Recorder} from './components/Recorder';\n\nimport './App.css';\n\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <div className=\"App columns is-mobile is-centered\">\n          <div className=\"column is-half-tablet is-one-third-desktop\">\n            <Recorder />\n            <WordsList />\n            <WordForm />\n          </div>\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}